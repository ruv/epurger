EPurger ver 1.0,  08.Oct.2001  rvm@eserv.ru

Удаляет старые файлы (по дате создания, изменения или доступа)
и/или по объему.
Может обходить деревья каталогов рекурсивно, может пропускать каталоги.

Ключи командной строки.

-p
\ Пауза в миллисекундах после каждых n файловых операций (по умолчанию 0)
\ (для уменьшения нагрузки на машину - пусть себе тихонько в фоне работает ;)

-period nnn
\ установить период - число файловых операций между паузами
\ (по умолчанию 1000)

-test
\ тестовый режим. ничего не удаляется, в лог выводятся сообщения
\ о файлах, которые были бы удалены и проверяемых каталогах.

-r
\ обходить подкаталоги рекурсивно. по умолчанию вложенные каталоги не смотрит.

-e
\ удалять пустые каталоги. по умолчанию каталоги не удаляет.

-ef nnn
\ EmptyFileSize - удалить все файлы с размером менее nnn байт
\ (не завсимо от прочих условий)

-a
\ смотреть на дату последнего доступа к файлу (значение по умолчанию)

-w
\ смотреть на дату последнего изменения файла

-c
\ смотреть на дату создания файла

-d ddd
\ оставлять файлы "моложе" указанного числа дней
\ При этом, если установлено ограничение на суммарный объем, то:
\ - объем не достигнет ограничения, если нету больше слишком старых файлов.
\ - слишком старые файлы не будут удалены, если ограничение на объем уже достигнуто.

-skb nnn
\ оставить в каждом фолдере не более nnn Kb новых файлов

-smb nnn
\ оставить в каждом фолдере не более nnn Mb новых файлов

-akb nnn
\ оставить в каждом оборабатываемом каталоге (поддереве) не более nnn Kb новых файлов
\ (если установлен -r)

-amb nnn
\ оставить в каждом оборабатываемом каталоге (поддереве) не более nnn Mb новых файлов
\ (если установлен -r)

-force
\ удалять файлы, даже если если не установлено, сколько дней хранить файлы
\ или суммарный объем

-m ссс
\ маска обрабатываемых файлов. по умолчанию "*"

-sl filename
\ saved list. имя файла со списком пропускаемых каталогов.
\ в каждой строке - по одному точному имени или имени по маске

-dl filename
\ dirs list. файл со списком обрабатываемых каталогов. длинные имена - в кавычках.
\ на каждой строке по одному имени
\ 

-dir ccc
\ directory. обрабатываемый каталог (по умолчанию - текущий)
\ ключи -dir и -dl  суммативны (каталоги добавляются в общий список)

-cfg filename
\ файл настроек. в нем могут быть использованны любые ключи,
\ не обязательно на одной строке

-log filename
\ log  file. имя лог-файла.
\ по умолчанию лог файл имеет имя "purger.log" в текущем каталоге
\ -log con  - вывод лога на консоль.

-l nnn
\ log level. уровень лога (по умолчанию 10)
\ 0 - не вести лог
\ 1 - выводить минимум - старт, commadline, стоп
\ 2 - также указывать итог и тестовые сообщения (если режим теста)
\ 5 - также указывать обрабатываемый каталог
\ 10 - также указывать, если нет доступа
\ 11 - также указывать удаленные каталоги
\ 12 - также указывать удаленные файлы
\ 16 - также указывать пропущенные каталоги

-h
\ как бы справка.

-help
\ вывести этот текст.

====================================================================
Продукт поставляется AS IS,
...никакой ответственности..., ...все права...,  и прочее, и т.д. ;)

====================================================================
\ 22.Oct.2001 Mon 18:09   rvm@eserv.ru
